mkdir mirBase
cd mirBase

## download latest
wget -nd ftp://mirbase.org/pub/mirbase/CURRENT/mature.fa.gz
wget -nd ftp://mirbase.org/pub/mirbase/CURRENT/hairpin.fa.gz

# extract gunzip files
gunzip *

## get hsapiens mature and hairpin
grep 'sapiens' mature.fa | awk '{print $1}' | sed 's/>//' > mature_hsapiens.ids.txt
grep 'sapiens' hairpin.fa | awk '{print $1}' | sed 's/>//' > hairpin_hsapiens.ids.txt

## get hsapiens fasta files
perl XICRA/simulation/get-seq_ids.pl mature_hsapiens.ids.txt mature.fa mature_hsapiens.fa
perl XICRA/simulation/get-seq_ids.pl hairpin_hsapiens.ids.txt hairpin.fa hairpin_hsapiens.fa

## Simulate isomiRs and reads
cd ..
mkdir simulations
cd simulations
mkdir isomiR_simulations
cd isomiR_simulations

## simulate isomiR
perl /home/jfsanchez/git_repos/isomiR-Benchmark/create_isomiRs.pl mirBase/mature_hsapiens.fa mirBase/hairpin_hsapiens.fa
cd ..

## rename sequences
cat isomiR_simulation/*fa | sed 's/|/::/' > all_seqs.fa
perl ../rename_fasta_seqs.pl ../mirBase/mature_hsapiens.fa | sed 's/miR/hsa-mir/' >> all_seqs.fa

## check this
>hsa-mir-513a-3p|>hsa-mir-513c-3p|TS-5833
>hsa-mir-513c-3p|>hsa-mir-513a-3p|TS-7697
>hsa-mir-513c-3p|>hsa-mir-513a-3p|TS-7822

## get frequency
python ../get_freq.py

## modify frequency

## simulate NGS reads using art



